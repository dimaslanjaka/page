"use strict";(self.webpackChunkwmi_page_monorepo=self.webpackChunkwmi_page_monorepo||[]).push([[391,569],{14306:function(e,t,n){n.r(t);var o=n(67294);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r.apply(this,arguments)}function a(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class i extends o.Component{constructor(e){super(e),a(this,"defaultImage","https://upload.wikimedia.org/wikipedia/commons/1/14/No_Image_Available.jpg"),a(this,"onError",(()=>{this.state.errored||this.setState({src:this.props.fallbackSrc||this.defaultImage,errored:!0})})),this.state={src:e.src||this.defaultImage,errored:!1,mounted:!1}}componentDidMount(){this.setState({mounted:!0})}componentWillUnmount(){this.setState({mounted:!1})}render(){const{src:e}=this.state,{src:t,fallbackSrc:n,...a}=this.props;return o.createElement("img",r({},a,{src:e,onError:this.onError}))}}t.default=i},45303:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var o=n(67294),r=n(14306),a=n(65040),i=n(15687),c=n(96624),s=n.n(c),l=n(83977);const d=l.C6().length?l.Mq():l.ZF({apiKey:"AIzaSyAgqIgI7JIDqnB7mI05Q1E1CzgWqwnzX5M",authDomain:"android-008.firebaseapp.com",projectId:"android-008",storageBucket:"android-008.appspot.com",messagingSenderId:"435643304043",appId:"1:435643304043:web:e712ff091810ace72bc92e",measurementId:"G-EJKJMM8ZQB"});let p;const m=["https://www.googleapis.com/auth/analytics.readonly","https://www.googleapis.com/auth/userinfo.email","https://www.googleapis.com/auth/userinfo.profile"],u={apiKey:"AIzaSyA7A6yPL2V8OBGh-DsQ1spG0suJfe5ZJaw",response_type:"token",access_type:"offline",auto_select:!1,prompt:"select_account",client_id:"974269993480-0e6vhfl8j688jal91o6c93eh90cg88o2.apps.googleusercontent.com",state_cookie_domain:window.location.origin,scope:m.join(" ")},g="google_credential";let f;function b(e){if(e||(e=f),e.credential&&"string"!=typeof e.credential){if(e.credential.exp)return Date.now()>=1e3*e.credential.exp;if("_expires_in"in e)return Date.now()>=e._expires_in}return!1}async function h(e){await fetch("https://www.googleapis.com/oauth2/v3/userinfo?access_token="+e).then((e=>e.json())).then((e=>{f.credential={};for(const t in e)f.credential[t]=e[t]}))}function w(){return f=JSON.parse(localStorage.getItem(g)||"{}"),f}f=w();class y extends o.Component{componentDidMount(){document.title="Login page - WMI",this.loadGSI().then(this.start.bind(this)),(0,a.loadCSS)("//cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"),n(63458)}render(){return o.createElement("div",null,o.createElement("section",null,o.createElement("div",{className:"mb-2",id:"profileWrapper"},o.createElement("div",{className:"card"},o.createElement(r.default,{src:"//codingyaar.com/wp-content/uploads/bootstrap-profile-card-image.jpg",className:"card-img-top"}),o.createElement("div",{className:"card-body"},o.createElement("h5",{className:"card-title"},"Your Name"),o.createElement("table",{className:"table"},o.createElement("tbody",null,o.createElement("tr",null,o.createElement("td",null,"Email"),o.createElement("td",{id:"gEmail"})),o.createElement("tr",null,o.createElement("td",null,"Is token expired"),o.createElement("td",{id:"isExpired"})))),o.createElement("div",{className:"btn-group"},o.createElement("button",{title:"Login Google",className:"btn iconButton googleIcon",id:"loginGoogle"}),o.createElement("button",{title:"Login Firebase",className:"btn iconButton firebaseIcon",id:"loginFirebase"}))))),o.createElement("button",{className:"btn btn-danger btn-sm d-none",id:"logout"},"Logout")),o.createElement("section",null,o.createElement("pre",null,o.createElement("code",{id:"tokenResponse"}))))}start(){const e=window.location.search;null!==new URLSearchParams(e).get("clear")&&(this.g_credential={},localStorage.removeItem(g),window.location.replace(window.location.href.split("?")[0])),u.callback=this.handleCredResp,google.accounts.id.initialize({...u}),google.accounts.id.disableAutoSelect();const t=google.accounts.oauth2.initTokenClient({...u,prompt:"consent",callback:this.handleCredResp});document.getElementById("loginGoogle").addEventListener("click",(function(){t.requestAccessToken()}));const n=this;document.getElementById("loginFirebase").addEventListener("click",(function(){(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new(s())(((t,n)=>{const o=new i.hJ;o.addScope(m.join(" "));const r=w().credential;r&&"string"!=typeof r&&"string"==typeof r.email&&r.email&&String(null==r?void 0:r.email).includes("@")&&!e&&(o.setCustomParameters({login_hint:r.email}),p=(0,i.v0)(d)),p||(p=(0,i.v0)(d)),(0,i.rh)(p,o).then((e=>{const n=i.hJ.credentialFromResult(e),o=n.accessToken,r=e.user;t({token:o,...r,credential:n})})).catch((e=>{const t=e.code,o=e.message,r=e.customData.email,a=i.hJ.credentialFromError(e);n({errorCode:t,errorMessage:o,email:r,credential:a})}))}))})().then(n.handleCredResp)})),x()}handleCredResp(e){const t=document.getElementById("tokenResponse");e?async function(e,t){if(e){for(const t in e)f[t]=e[t];if(f.expires_in)f._expires_in=1e3*f.expires_in+(new Date).getTime();else{const e=await(0,i.v0)(d).currentUser.getIdTokenResult();f._expires_in=new Date(e.expirationTime).getTime()}if("credential"in e&&e.credential)if("string"==typeof e.credential){f.credential={};const t=function(e){const t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(n)}(e.credential);for(const e in t)f.credential[e]=t[e]}else"accessToken"in e.credential&&(f.tokenInfo=e.credential,await h(e.credential.accessToken));else"access_token"in e&&await h(e.access_token);return window.localStorage.setItem(g,JSON.stringify(f)),"function"==typeof t&&t(f),f}console.error("token response is null")}(e,(function(){const e=window.location.search,t=new URLSearchParams(e).get("redirect");t&&window.location.replace(t),x()})):t&&(t.textContent="response is null")}loadGSI(){return new Promise((e=>{const t=document.createElement("script");t.src="//accounts.google.com/gsi/client",t.onload=e,document.getElementsByTagName("head")[0].appendChild(t)}))}}var E=y;function x(){const e=w();if(document.getElementById("tokenResponse").textContent=Object.keys(e).length>0?JSON.stringify(e,null,2):"UNAUTHORIZED","credential"in e){const t=document.getElementById("profileWrapper"),n=t.querySelector(".card-img-top");if("object"==typeof e.credential){if("picture"in e.credential&&n.setAttribute("src",e.credential.picture),"given_name"in e.credential){const o="".concat(e.credential.given_name," ").concat(e.credential.family_name);n.setAttribute("alt","".concat(o)),t.querySelector(".card-title").innerHTML=o}document.getElementById("gEmail").textContent=e.credential.email,document.getElementById("isExpired").innerHTML=b(e)?'<span className="text-danger">true</span>':'<span className="text-success">false</span>'}}}},57050:function(e,t,n){var o=n(8081),r=n.n(o),a=n(23645),i=n.n(a)()(r());i.push([e.id,'#profileWrapper .card-img-top{max-width:60%;border-radius:50%;margin:0 auto;box-shadow:0 0 10px rgba(0,0,0,0.2)}#profileWrapper .card{max-width:30rem;padding:1.5em 0.5em 0.5em;text-align:center;border-radius:2em;box-shadow:0 5px 10px rgba(0,0,0,0.2)}#profileWrapper .card table{text-align:left}#profileWrapper .card-title{font-weight:bold;font-size:1.5em}.firebaseIcon{border-radius:0px 5px 5px 0px !important;border-color:#ffcb2b !important;border-left-color:transparent !important}.firebaseIcon{background-image:url("//cdn.icon-icons.com/icons2/2699/PNG/512/firebase_logo_icon_171157.png")}.firebaseIcon:hover{background-color:#ffcb2b !important;color:white !important}.googleIcon{border-radius:5px 0px 0px 5px !important;border-color:#5290f5 !important;border-right-color:transparent !important}.googleIcon{background-image:url("//static-00.iconduck.com/assets.00/google-icon-2048x2048-czn3g8x8.png")}.googleIcon:hover{color:white !important;background-color:#5290f5 !important}.iconButton{padding:14px 28px !important;cursor:pointer !important}.iconButton{width:36px;height:36px;background-color:transparent;background-position:center;background-repeat:no-repeat;background-size:27px 27px;box-shadow:0 5px 10px rgba(0,0,0,0.2)}button.iconButton::-moz-focus-inner{border:0}\n',""]),t.Z=i},63458:function(e,t,n){n.r(t);var o=n(93379),r=n.n(o),a=n(7795),i=n.n(a),c=n(90569),s=n.n(c),l=n(3565),d=n.n(l),p=n(19216),m=n.n(p),u=n(44589),g=n.n(u),f=n(57050),b={};b.styleTagTransform=g(),b.setAttributes=d(),b.insert=s().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=m(),r()(f.Z,b),t.default=f.Z&&f.Z.locals?f.Z.locals:void 0},97582:function(e,t,n){function o(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}n.d(t,{_T:function(){return o}}),Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError}}]);